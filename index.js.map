{"version":3,"file":"index.js","sources":["src/calendar.js","src/holidays.india-wb.js","src/holidays.js","src/index.js"],"sourcesContent":["export const monthNames = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December'\n]\n\nconst setYear = function (year) {\n  document.querySelector('header .year').innerHTML = year\n}\n\nconst createMonths = function (year) {\n  document.querySelector('main').innerHTML = new Array(12)\n    .fill()\n    .map((_, month) => {\n      // Monday = 1\n      const offset = (new Date(year, month, 1).getDay() + 6) % 7\n      // 0th is the last day of previous month\n      const length = new Date(\n        year + (month + 1) % 12,\n        (month + 1) % 12,\n        0\n      ).getDate() - (year % 4 && month === 1 ? 1 : 0)\n      const name = monthNames[month]\n      const markup =\n      `<ul class=\"month\" data-offset=\"${offset}\" data-length=\"${length}\" data-name=\"${name}\"></ul>`\n      return markup\n    })\n    .join('\\n')\n}\n\nconst createDays = function () {\n  document.querySelectorAll('.month')\n    .forEach(function (month) {\n      month.innerHTML = new Array(parseInt(month.getAttribute('data-length')))\n        .fill()\n        .map((_, i) => i + 1)\n        .map((d) => `<li>${d}</li>`)\n        .join('\\n')\n    })\n}\n\nexport default function (year) {\n  setYear(year)\n  createMonths(year)\n  createDays()\n}\n","// TODO: Update with actual holidays\nexport default {\n  '2018': [\n    { // January\n      '12': \"Vivekananda's B'day\",\n      '22': 'Saraswati Puja',\n      '23': \"Netaji's B'day\",\n      '26': 'Republic Day',\n    },\n    { // February\n    },\n    { // March\n      '1': 'Doljatra',\n      '2': 'Holi',\n      '30': 'Good Friday',\n    },\n    { // April\n      '1': 'Bank Holiday',\n      '14': \"Ambedkar's B'day\",\n      '15': 'Bengali New Year',\n      '30': 'Buddha Purnima',\n    },\n    { // May\n      '1': 'May Day',\n      '9': \"Tagore's B'day\",\n      // '12': 'Shab-e-Barat',\n    },\n    { // June\n      '16': 'Eid al-Fitr',\n      // '25': 'Rathajatra',\n    },\n    { // July\n    },\n    { // August\n      // '7': 'Rakhi Purnima',\n      // '14': 'Janmashtami',\n      '15': 'Independence Day',\n      '22': 'Eid al-Zuha',\n    },\n    { // September\n      '21': 'Muharram',\n    },\n    { // October\n      '2': \"Gandhi's B'day\",\n      '8': 'Mahalaya',\n      '15': 'Durgasashthi',\n      '16': 'Mahasaptami',\n      '17': 'Mahaashtami',\n      '18': 'Mahanavami',\n      '19': 'Vijayadashami',\n      '24': 'Lakshmi Puja',\n    },\n    { // November\n      '6': 'Kali Puja',\n      // '1': 'Bhatridwitiya',\n      '23': \"Guru Nanak's B'day\",\n    },\n    { // December\n      // '2': 'Fateha-e-Dwaj Daham',\n      '25': 'Christmas Day',\n    },\n  ]\n}\n","import {monthNames} from './calendar'\nimport holidaysIndiaWB from './holidays.india-wb.js'\n\nconst holidays = {\n  'india-wb': holidaysIndiaWB\n}\n\nexport default function (year, region) {\n  if (holidays.hasOwnProperty(region) && holidays[region].hasOwnProperty(`${year}`)) {\n    const list = holidays[region][`${year}`]\n    for (let month in list) {\n      for (let day in list[month]) {\n        console.log(day, month)\n        document.querySelector(`.month[data-name=\"${monthNames[month]}\"] > li:nth-child(${day})`).dataset.holiday = list[month][day]\n      }\n    }\n  }\n}\n","import createCalendar from './calendar.js'\nimport setHolidays from './holidays.js'\n\nconst params = new window.URLSearchParams(window.location.search)\nconst year = params.has('year') ? parseInt(params.get('year')) : new Date().getFullYear()\nconst region = params.get('region')\n\ncreateCalendar(year)\nsetHolidays(year, region)\n"],"names":["monthNames","setYear","year","querySelector","innerHTML","createMonths","Array","fill","map","_","month","offset","Date","getDay","length","getDate","name","markup","join","createDays","querySelectorAll","forEach","parseInt","getAttribute","i","d","holidays","holidaysIndiaWB","region","hasOwnProperty","list","day","log","dataset","holiday","params","window","URLSearchParams","location","search","has","get","getFullYear","createCalendar","setHolidays"],"mappings":"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"}